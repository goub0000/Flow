# =============================================================================
# Recommendation Service - Environment Configuration
# =============================================================================
# This file documents all environment variables required for the service.
# Copy this to .env and fill in your actual values.
# IMPORTANT: Never commit .env file to version control!

# =============================================================================
# DATABASE CONFIGURATION (REQUIRED)
# =============================================================================
# Supabase PostgreSQL connection string
# Format: postgresql://postgres:[PASSWORD]@db.wmuarotbdjhqbyjyslqg.supabase.co:5432/postgres
# Get from: Supabase Dashboard → Settings → Database → Connection String
DATABASE_URL=postgresql://postgres:your_password@db.wmuarotbdjhqbyjyslqg.supabase.co:5432/postgres

# Supabase Project Configuration
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your_supabase_service_role_key

# JWT Secret for Authentication (CRITICAL)
# Get from: Supabase Dashboard → Settings → API → JWT Settings → JWT Secret
# MUST be at least 32 characters long
SUPABASE_JWT_SECRET=your_supabase_jwt_secret_minimum_32_characters

# =============================================================================
# API CONFIGURATION
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000

# =============================================================================
# CORS CONFIGURATION (REQUIRED for Production)
# =============================================================================
# Comma-separated list of allowed origins
# Development: http://localhost:8080,http://localhost:3000
# Production: Add your Railway frontend domain
CORS_ORIGINS=http://localhost:8080,http://localhost:3000,https://your-frontend.railway.app

# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================
# Options: development, staging, production
ENVIRONMENT=development

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# =============================================================================
# OPTIONAL: CACHING (Redis)
# =============================================================================
# Redis connection string for caching (optional)
# REDIS_URL=redis://localhost:6379/0

# =============================================================================
# OPTIONAL: DATA ENRICHMENT API KEYS
# =============================================================================
# Only needed for data enrichment scripts, not for main API

# College Scorecard API (US Department of Education)
# Get from: https://collegescorecard.ed.gov/data/documentation/
COLLEGE_SCORECARD_API_KEY=your_api_key_here
COLLEGE_SCORECARD_RATE_LIMIT_DELAY=0.1

# Kaggle API (for datasets)
# Get from: https://www.kaggle.com/docs/api
KAGGLE_USERNAME=your_kaggle_username
KAGGLE_KEY=your_kaggle_key

# =============================================================================
# RAILWAY PRODUCTION CONFIGURATION GUIDE
# =============================================================================
# Set these in Railway Dashboard → Variables:
#
# Required Variables:
#   DATABASE_URL=postgresql://postgres:[password]@db.wmuarotbdjhqbyjyslqg.supabase.co:5432/postgres
#   CORS_ORIGINS=https://web-production-bcafe.up.railway.app,https://web-production-51e34.up.railway.app
#   ENVIRONMENT=production
#   LOG_LEVEL=INFO
#   API_HOST=0.0.0.0
#   API_PORT=8000
#   SUPABASE_URL=https://wmuarotbdjhqbyjyslqg.supabase.co
#   SUPABASE_KEY=your_service_role_key
#   SUPABASE_JWT_SECRET=your_jwt_secret
#
# Optional Variables:
#   REDIS_URL=redis://your-redis-host:6379/0
#   COLLEGE_SCORECARD_API_KEY=your_key
#
# Verification:
#   railway logs
#   # Look for: "Database tables created" and "CORS configured with N origins"
